<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Esercizi Azienda</title>
</head>

<body>
    <div class="navbar navbar-expand-lg navbar-light bg-dark">
        <div class="container px-4 px-lg-5">
            <a class="text-white">LUIGI CATANIA</a>
            <a class="text-white" href="https://github.com/blugrinc">GitHut</a>
            <a class="text-white" href="https://www.linkedin.com/in/luigicatania/">Linkedin</a>
        </div>
    </div>

    <section class="py-5">
        <div class="container px-4 px-lg-5 my-5">
            <div class="row gx-4 gx-lg-5 align-items-center">
                <div class="col-md-6">
                    <p>Clicca per ingrandire l'immagine</p>
                    <img onclick="enlarge(this)" class="card-img-top mb-5 mb-md-0 myImage"
                        src="../resistenzaNumero/assets/esercizio1.png" alt="..." />
                    <form class="form-inline mt-5">
                        <div class="form-group mb-2">
                            <input class="form-control" id="numElements" type="text" placeholder="INSERISCI NUMERO">
                        </div>
                        <button type="button" class="btn btn-primary mb-2" onclick="getNumber()">INVIA</button>
                        <div class="form-group mx-sm-3 mb-2">
                            <div class="alert alert-success" role="alert">
                                RISULTATO = <span id="result"> </span>
                            </div>
                        </div>
                    </form>
                </div>
                <!--  PRIMO ESERCIZIO  -->
                <div class="col-md-6">
                    <h1 class="display-5 fw-bolder">RESISTENZA DI UN NUMERO</h1>

                    <p>La resistenza di un numero si ottiene moltiplicando tutte le cifre che lo
                        compongono. <br />
                        Ad esempio: se si moltiplicano tutte le cifre del numero 882 si ottiene 128 (8*8*2).<br />
                        Ripetendo l'operazione per 128 si ottiene 16 (16).<br />
                        Ripetendo l'operazione per 16 si ottiene 6 (1*6).<br />
                        6 è di una sola cifra, quindi non è più possibile ripetere l'operazione.<br />
                        Dato che siamo riusciti a ripetere l'operazione per 3 volte, diciamo che 882 ha una "resistenza"
                        di 3.<br />
                    <ul>
                        <li>Scrivere la funzione getResistenza(numero), che restituisce la resistenza di un intero
                            passato
                            come argomento.
                        </li>
                        <li>Qual è il numero più resistente che riesci a trovare?
                            <strog class="text-danger lead badge-warning"> 9 </strog>
                    </ul>
                </div>
            </div>
        </div>
        <!--  SECONDO ESERCIZIO  -->
        <div class="container px-4 px-lg-5 my-5">
            <div class="d-flex">
                <div class="col-md-6 m-1">
                    <p>Clicca per ingrandire l'immagine</p>
                    <img onclick="enlarge(this)" class="card-img-top mb-3 mb-md-0 myImage"
                        src="../resistenzaNumero/assets/esercizio2.png" alt="..." />
                    <form class="form mt-2">
                        <div class="form-group mb-2">
                            <p> Clicca per copiare qualche esempio:</p>
                            <ul class="p-1">
                                <li class="hover" onclick="copyText(this)">2,4,1,5,6,3,4,2,7,4,5,4,5</li>
                                <li class="hover" onclick="copyText(this)">3,5,6,3,4,3,5,6,2,4,3,4,2,2,4,3,5,6,2,12
                                </li>
                                <li class="hover" onclick="copyText(this)">8,9,7,8,9,7,8,9,7,8,9,7,8,9,7,8,9,7,8,9 </li>
                                <li class="hover" onclick="copyText(this)">13,21,34,55,61,74,83,92,11,16,23,29,36,42,49
                                </li>
                                <li class="hover" onclick="copyText(this)">5,18,27,56,56,56,27,75,18,89,6,56,18,56,27
                                </li>
                                <li class="hover" onclick="copyText(this)">1,8,15,22,31,39,47,53,64,72,77,87,94,99,100
                                </li>
                            </ul>
                            <textarea class="form-control" id="numArray" type="text" placeholder="INSERISCI SERIE DI NUMERI SEPARATI DALLA VIRGOLA
                                "></textarea>
                        </div>
                        <div class="d-flex flex-column">
                            <button type="button" class="btn btn-primary mb-2" onclick="getFrequente()">PRENDI IL
                                PRIMO</button>
                            <button type="button" class="btn btn-primary mb-2" onclick="getFrequenti()">PRENDI I PRIMI
                                3</button>

                            <div>
                                <div class="alert alert-success" role="alert">
                                    PRIMO POST: <span id="firstPosition"> </span>
                                </div>
                                <div class="alert alert-success" role="alert">
                                    CLASSIFICA: <span id="ladder"> </span>
                                </div>
                            </div>
                        </div>
                    </form>

                </div>

                <div class="col-md-6 m-1">
                    <h1 class="display-5 fw-bolder">FREQUENZA DI UN NUMERO</h1>

                    <p>Nell'array di interi [2,4,1,5,6,3,4,2,7,4,5,4,5] il numero 2 è presente 3 volte.
                        <br />
                        Diciamo quindi che 2 ha una "frequenza" di 3. Nello stesso array il numero più frequente è 4
                        (con una frequenza di 4). Il secondo numero più frequente è 5 (con una frequenza di 3) <br />
                    <ul>
                        <li>Scrivere la funzione getFrequente(array) che restituisce il numero più frequente in un array
                            di interi passato come argomento.
                        </li>
                        <li>Scrivere la funzione getFrequenti(array, k) che restituisce un array contenente i primi k
                            numeri più frequenti in un array di interi passato come argomento.
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <!-- Footer-->
    <footer class="py-5 bg-dark">
        <div class="container">
            <p class="m-0 text-center text-white">
        </div>
    </footer>
</body>


<script>
    //ESERCIZIO UNO 
    const getResistenza = (number) => {
        let arrayNumber = number.toString().split("");
        let resistorNumber = arrayNumber.reduce((a, value) => a * value)
        if (resistorNumber > 9) {
            return getResistenza(resistorNumber);
        } else {
            console.log("RESISTENZA DI UN NUMERO:", resistorNumber)
            let result = document.getElementById("result");
            return result.innerHTML = resistorNumber;
        }
    }

    //ESERCIZIO DUE
    let array = [ 2, 4, 1, 5, 6, 3, 4, 2, 7, 4, 5, 4, 5 ];

    const sortArray = (stringNumber) => {
        let arrayNumber = stringNumber.toString().split(",").map((ele) => +ele);
        let frequenzaNumeri = arrayNumber.reduce((a, value) => {
            a[ value ] = a[ value ] ? a[ value ] + 1 : 1;
            return a
        }, {})

        let chiaveMax = Object.entries(frequenzaNumeri).sort((a, b) => b[ 1 ] - a[ 1 ]);
        return chiaveMax
    }

    const getFrequente = () => {
        let inputArray = document.getElementById("numArray").value;
        let firstPosition = document.getElementById("firstPosition");
        let array = sortArray(inputArray)[ 0 ]
        firstPosition.innerHTML = " 1# " + array[ 0 ] + " con una frequenza di " + array[ 1 ];
    }
    const getFrequenti = () => {
        let inputArray = document.getElementById("numArray").value;
        let ladder = document.getElementById("ladder");
        let ladderPosition = 3;
        let array = sortArray(inputArray).slice(0, ladderPosition)
        ladder.innerHTML =
            ` 
        <p> #1 - ${array[ 0 ][ 0 ]} con una frequenza di ${array[ 0 ][ 1 ]}  </p>
        <p> #2 - ${array[ 1 ][ 0 ]} con una frequenza di ${array[ 1 ][ 1 ]} </p>
        <p> #3 - ${array[ 2 ][ 0 ]} con una frequenza di ${array[ 2 ][ 1 ]}   </p>     
         `
    }

</script>

<script>
    //OTHER FUNCTIONS
    const getNumber = () => {
        let inNumber = document.getElementById("numElements").value;
        return getResistenza(inNumber);
    }

    const copyText = (value) => {
        const text = value.textContent;
        const textArea = document.createElement("textarea");
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand("copy");
        textArea.remove();
        alert("Testo copiato!");
    }

    //INGRANDIRE IMMAGINI    ;
    const enlarge = (image) => {
        image.classList.toggle('enlarged');
    }
</script>
</body>

</html>